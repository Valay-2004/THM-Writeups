{% seo %}
<!-- Custom script for adding Copy button to code blocks -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var codeBlocks = document.querySelectorAll("div.highlight");

    codeBlocks.forEach(function (codeBlock) {
      var copyButton = document.createElement("button");
      copyButton.className = "copy-code-button";
      copyButton.type = "button";
      copyButton.ariaLabel = "Copy code to clipboard";
      copyButton.innerHTML = "Copy";

      codeBlock.appendChild(copyButton);

      copyButton.addEventListener("click", function () {
        // Find the code element inside the block
        var code = codeBlock.querySelector("code").innerText.trim();

        window.navigator.clipboard.writeText(code).then(function () {
          copyButton.innerHTML = "Copied!";
          setTimeout(function () {
            copyButton.innerHTML = "Copy";
          }, 2000);
        });
      });
    });
  });
</script>

<!-- Script for rendering GitHub alerts correctly -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const blockquotes = document.querySelectorAll("blockquote");
    blockquotes.forEach(bq => {
      const p = bq.firstElementChild;
      if (!p || p.tagName !== "P") return;

      const match = p.innerHTML.match(/^\s*\[!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)\]/i);
      if (match) {
        const type = match[1].toLowerCase();
        const title = type.charAt(0).toUpperCase() + type.slice(1);

        bq.classList.add("markdown-alert", "markdown-alert-" + type);

        // Remove the [!TYPE] text and any following <br> or spaces
        p.innerHTML = p.innerHTML.replace(match[0], "").replace(/^\s*(<br\s*\/?>)?\s*/i, "");

        // Create title element and insert at the top of the blockquote
        const titleEl = document.createElement("div");
        titleEl.className = "markdown-alert-title";
        titleEl.innerHTML = title;

        bq.insertBefore(titleEl, p);
      }
    });
  });
</script>
